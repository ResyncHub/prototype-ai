@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Primary Brand Colors */
    --brand-red: 0 84% 51%;      /* #DC2626 - logo, CTAs */
    --brand-white: 0 0% 100%;    /* #FFFFFF - białe tło */

    /* Supporting Colors */
    --red-light: 0 86% 97%;      /* #FEF2F2 - subtle backgrounds, hover states */
    --red-accent: 0 84% 60%;     /* #EF4444 - active states, notifications */
    --gray-900: 220 46% 11%;     /* #111827 - primary text */
    --gray-600: 211 13% 33%;     /* #4B5563 - secondary text */
    --gray-100: 220 14% 96%;     /* #F3F4F6 - borders, dividers */
    --gray-50: 220 14% 98%;      /* #F9FAFB - light backgrounds */

    /* System Colors based on brand palette */
    --background: var(--brand-white);
    --foreground: var(--gray-900);

    --card: var(--brand-white);
    --card-foreground: var(--gray-900);

    --popover: var(--brand-white);
    --popover-foreground: var(--gray-900);

    --primary: var(--brand-red);
    --primary-foreground: var(--brand-white);

    --secondary: var(--gray-50);
    --secondary-foreground: var(--gray-900);

    --muted: var(--gray-50);
    --muted-foreground: var(--gray-600);

    --accent: var(--red-light);
    --accent-foreground: var(--gray-900);

    --destructive: var(--red-accent);
    --destructive-foreground: var(--brand-white);

    --border: var(--gray-100);
    --input: var(--gray-100);
    --ring: var(--brand-red);

    --radius: 0.75rem;

    /* Sidebar */
    --sidebar-background: var(--brand-white);
    --sidebar-foreground: var(--gray-900);
    --sidebar-primary: var(--brand-red);
    --sidebar-primary-foreground: var(--brand-white);
    --sidebar-accent: var(--red-light);
    --sidebar-accent-foreground: var(--gray-900);
    --sidebar-border: var(--gray-100);
    --sidebar-ring: var(--brand-red);

    /* Custom Project Management Colors */
    --canvas-background: var(--gray-50);
    --canvas-grid: var(--gray-100);
    --project-card: var(--brand-white);
    --project-card-hover: var(--red-light);
  
    /* Project management colors */
    --project-accent: var(--brand-red);
    --project-accent-light: var(--red-accent);
  
    /* Team colors */
    --team-accent: var(--brand-red);
    --team-accent-light: var(--red-accent);
  
    /* Task colors */
    --task-accent: var(--brand-red);
    --task-accent-light: var(--red-accent);

    /* File colors */
    --file-accent: var(--brand-red);
    --file-accent-light: var(--red-accent);
     
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--brand-red)), hsl(var(--red-accent)));
    --gradient-card: linear-gradient(135deg, hsl(var(--brand-white)), hsl(var(--red-light)));
    --gradient-bg: linear-gradient(135deg, hsl(var(--gray-50)), hsl(var(--brand-white)));

    /* Shadows */
    --shadow-card: 0 4px 6px -1px hsl(var(--gray-100) / 0.3), 0 2px 4px -1px hsl(var(--gray-100) / 0.2);
    --shadow-card-hover: 0 10px 15px -3px hsl(var(--brand-red) / 0.2), 0 4px 6px -2px hsl(var(--brand-red) / 0.1);

    /* Animation */
  --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* New node animations for different types */
@keyframes dash-move {
  0% {
    background-position: 0% 0%;
  }
  100% {
    background-position: 100% 100%;
  }
}

/* Minimap styles for different node types */
.react-flow__minimap .project {
  fill: hsl(var(--project-accent));
}

.react-flow__minimap .team {
  fill: hsl(var(--team-accent));
}

.react-flow__minimap .task {
  fill: hsl(var(--task-accent));
}

.react-flow__minimap .file {
  fill: hsl(var(--file-accent));
}

.react-flow__minimap .default {
  fill: hsl(var(--primary));
}

.new-node-animation {
  position: relative;
}

.new-node-animation::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: repeating-linear-gradient(
    45deg,
    hsl(var(--project-accent)),
    hsl(var(--project-accent)) 8px,
    transparent 8px,
    transparent 16px
  );
  background-size: 24px 24px;
  border-radius: calc(var(--radius) + 2px);
  animation: dash-move 2s linear infinite;
  z-index: -1;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: xor;
  padding: 2px;
}

.new-team-animation::before {
  background: repeating-linear-gradient(
    45deg,
    hsl(var(--team-accent)),
    hsl(var(--team-accent)) 8px,
    transparent 8px,
    transparent 16px
  );
}

.new-task-animation::before {
  background: repeating-linear-gradient(
    45deg,
    hsl(var(--task-accent)),
    hsl(var(--task-accent)) 8px,
    transparent 8px,
    transparent 16px
  );
}

.new-file-animation::before {
  background: repeating-linear-gradient(
    45deg,
    hsl(var(--file-accent)),
    hsl(var(--file-accent)) 8px,
    transparent 8px,
    transparent 16px
  );
}

  .dark {
    /* Dark mode uses same colors as default since we're dark by default */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  /* Remove default focus outline and red underlines */
  *:focus {
    outline: none !important;
  }

  *:focus-visible {
    outline: none !important;
  }

  a:focus,
  a:active,
  a:visited,
  button:focus,
  button:active,
  input:focus,
  textarea:focus,
  select:focus {
    outline: none !important;
    text-decoration: none !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* Remove red outline from clicked elements */
  *:active,
  *:focus:active {
    outline: none !important;
    box-shadow: none !important;
  }

  body {
    @apply bg-background text-foreground;
  }
}